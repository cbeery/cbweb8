<!-- app/views/home/test13.html.erb -->
<!-- Legacy Homepage Recreation with Tailwind -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
  
  <!-- Header Section -->
  <div class="mb-8 pb-6 border-b-4 border-gray-800">
    <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Things we (used to) do</h1>
    <p class="text-lg text-gray-600 mt-1">Various habitual activities</p>
    
    <!-- Search and Navigation -->
    <div class="mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <nav class="text-sm">
        <span class="text-gray-600">curtbeery.com is pretty much a list of </span>
        <%= link_to "movies", admin_movies_path, class: "text-indigo-600 hover:text-indigo-800" %>,
        <%= link_to "videos", "#netflix", class: "text-indigo-600 hover:text-indigo-800" %>,
        <%= link_to "music", "#tunes", class: "text-indigo-600 hover:text-indigo-800" %>
        <span class="text-gray-600"> and other </span>
        <%= link_to "crap", admin_root_path, class: "text-indigo-600 hover:text-indigo-800" %>
      </nav>
      <form class="mt-3 sm:mt-0">
        <input type="text" placeholder="Search" class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </form>
    </div>
  </div>

  <!-- Movies Section -->
  <section id="movies" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">
          <%= link_to "At the Movies", admin_movies_path, class: "text-gray-900 hover:text-indigo-600" %>
        </h2>
        <p class="text-sm text-gray-600">
          Sometimes we <%= link_to "go to the movies", admin_movies_path, class: "text-indigo-600 hover:text-indigo-800" %>. 
          <strong><%= @movies_this_year || 7 %> times</strong> this year.
        </p>
        <p class="text-sm text-gray-600 mt-2">
          Once in a while we might hit a <%= link_to "film festival", "#", class: "text-indigo-600 hover:text-indigo-800" %>.
        </p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <!-- Poster -->
          <div class="md:col-span-1">
            <% if @last_movie&.movie_poster %>
              <%= image_tag @last_movie.movie_poster.image, 
                  class: "w-full rounded-lg shadow-lg",
                  alt: @last_movie.title %>
            <% else %>
              <div class="aspect-[2/3] bg-gray-200 rounded-lg flex items-center justify-center">
                <span class="text-gray-400 text-xs">No poster</span>
              </div>
            <% end %>
            <div class="flex justify-center mt-2">
              <%= render 'shared/star_rating', rating: @last_movie&.rating || 4 %>
            </div>
          </div>
          
          <!-- Movie List -->
          <div class="md:col-span-3">
            <div class="bg-white rounded-lg shadow overflow-hidden">
              <table class="min-w-full">
                <tbody class="divide-y divide-gray-200">
                  <% (@recent_movies || []).each do |movie| %>
                    <% viewing = movie.viewings.order(viewed_on: :desc).first %>
                    <% if viewing %>
                      <tr class="hover:bg-gray-50">
                        <td class="pl-2 pr-3 py-1.5 text-sm">
                          <span class="hidden sm:inline text-gray-500">
                            <%= viewing.viewed_on.strftime('%a') %>
                          </span>
                          <span class="text-gray-900">
                            <%= viewing.viewed_on.strftime('%b %e') %>
                          </span>
                          <span class="hidden sm:inline text-gray-400">
                            <%= viewing.viewed_on.strftime('%Y') %>
                          </span>
                          <span class="sm:hidden text-gray-500">
                            <%= viewing.viewed_on.strftime('%-m/%d/%y') %>
                          </span>
                        </td>
                        <td class="px-3 py-1.5">
                          <%= link_to movie.title, admin_movie_path(movie), 
                              class: "text-sm font-medium text-indigo-600 hover:text-indigo-800" %>
                        </td>
                        <td class="px-3 py-1.5">
                          <div class="flex">
                            <%= render 'shared/star_rating', rating: movie.rating, size: 'small' %>
                          </div>
                        </td>
                      </tr>
                    <% end %>
                  <% end %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="h-px bg-gray-300 mb-8"></div>

  <!-- Netflix/Home Viewing Section -->
  <section id="netflix" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">
          <%= link_to "Not at the Movies", "#", class: "text-gray-900 hover:text-indigo-600" %>
        </h2>
        <p class="text-sm text-gray-600">
          Sometimes we'll just <%= link_to "watch something at home", "#", class: "text-indigo-600 hover:text-indigo-800" %>.
        </p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <!-- Poster -->
          <div class="md:col-span-1">
            <% if @last_home_movie&.movie_poster %>
              <%= image_tag @last_home_movie.movie_poster.image, 
                  class: "w-full rounded-lg shadow-lg",
                  alt: @last_home_movie.title %>
            <% else %>
              <div class="aspect-[2/3] bg-gray-200 rounded-lg flex items-center justify-center">
                <span class="text-gray-400 text-xs">No poster</span>
              </div>
            <% end %>
            <div class="flex justify-center mt-2">
              <%= render 'shared/star_rating', rating: @last_home_movie&.rating || 3 %>
            </div>
          </div>
          
          <!-- Movie List -->
          <div class="md:col-span-3">
            <div class="bg-white rounded-lg shadow overflow-hidden">
              <table class="min-w-full">
                <tbody class="divide-y divide-gray-200">
                  <% (@home_movies || []).each do |movie| %>
                    <% viewing = movie.viewings.order(viewed_on: :desc).first %>
                    <% if viewing %>
                      <tr class="hover:bg-gray-50">
                        <td class="pl-2 pr-3 py-1.5 text-sm">
                          <span class="hidden sm:inline text-gray-500">
                            <%= viewing.viewed_on.strftime('%a') %>
                          </span>
                          <span class="text-gray-900">
                            <%= viewing.viewed_on.strftime('%b %e') %>
                          </span>
                          <span class="hidden sm:inline text-gray-400">
                            <%= viewing.viewed_on.strftime('%Y') %>
                          </span>
                          <span class="sm:hidden text-gray-500">
                            <%= viewing.viewed_on.strftime('%-m/%d/%y') %>
                          </span>
                        </td>
                        <td class="px-3 py-1.5">
                          <%= link_to movie.title, admin_movie_path(movie), 
                              class: "text-sm font-medium text-indigo-600 hover:text-indigo-800" %>
                        </td>
                        <td class="px-3 py-1.5">
                          <div class="flex">
                            <%= render 'shared/star_rating', rating: movie.rating, size: 'small' %>
                          </div>
                        </td>
                      </tr>
                    <% end %>
                  <% end %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="h-px bg-gray-300 mb-8"></div>

  <!-- Books Section -->
  <section id="books" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">Books</h2>
        <p class="text-sm text-gray-600">
          Occasionally I'll <%= link_to "crack open a book", "#", class: "text-indigo-600 hover:text-indigo-800" %>.
        </p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <!-- Book Cover -->
          <div class="md:col-span-1">
            <% if @last_book&.cover_image&.attached? %>
              <%= image_tag @last_book.cover_image, 
                  class: "w-full rounded-lg shadow-lg",
                  alt: @last_book.title %>
            <% else %>
              <div class="aspect-[2/3] bg-gray-200 rounded-lg flex items-center justify-center">
                <span class="text-gray-400 text-xs">No cover</span>
              </div>
            <% end %>
            <div class="flex justify-center mt-2">
              <% book_read = @last_book&.book_reads&.where&.not(finished_on: nil)&.order(finished_on: :desc)&.first %>
              <%= render 'shared/star_rating', rating: book_read&.rating || 4 %>
            </div>
          </div>
          
          <!-- Book List -->
          <div class="md:col-span-3">
            <div class="bg-white rounded-lg shadow overflow-hidden">
              <table class="min-w-full">
                <tbody class="divide-y divide-gray-200">
                  <% (@recent_books || []).each do |book| %>
                    <% book_read = book.book_reads.where.not(finished_on: nil).order(finished_on: :desc).first %>
                    <% if book_read %>
                      <tr class="hover:bg-gray-50">
                        <td class="pl-2 pr-3 py-1.5 text-sm">
                          <span class="hidden sm:inline text-gray-500">
                            <%= book_read.finished_on.strftime('%a') %>
                          </span>
                          <span class="text-gray-900">
                            <%= book_read.finished_on.strftime('%b %e') %>
                          </span>
                          <span class="hidden sm:inline text-gray-400">
                            <%= book_read.finished_on.strftime('%Y') %>
                          </span>
                          <span class="sm:hidden text-gray-500">
                            <%= book_read.finished_on.strftime('%-m/%d/%y') %>
                          </span>
                        </td>
                        <td class="px-3 py-1.5">
                          <%= link_to book.title, admin_book_path(book), 
                              class: "text-sm font-medium text-indigo-600 hover:text-indigo-800" %>
                          <span class="text-sm text-gray-500">, <%= book.author %></span>
                        </td>
                        <td class="px-3 py-1.5">
                          <div class="flex">
                            <%= render 'shared/star_rating', rating: book_read.rating, size: 'small' %>
                          </div>
                        </td>
                      </tr>
                    <% end %>
                  <% end %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="h-px bg-gray-300 mb-8"></div>

  <!-- Projects Section -->
  <section id="projects" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">Projects</h2>
        <p class="text-sm text-gray-600">Some dumb stuff I did or tried to do.</p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="bg-white rounded-lg shadow overflow-hidden">
          <table class="min-w-full">
            <tbody class="divide-y divide-gray-200">
              <tr class="hover:bg-gray-50">
                <td class="px-4 py-3">
                  <%= link_to "Records 2019", "https://records2019.beery.co", target: "_blank", 
                      class: "text-sm font-medium text-indigo-600 hover:text-indigo-800" %>
                  <span class="text-sm text-gray-600"> - Hef and I made each other listen to crap.</span>
                </td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="px-4 py-3">
                  <%= link_to "No More Chief", "https://nomorechief.com", target: "_blank", 
                      class: "text-sm font-medium text-indigo-600 hover:text-indigo-800" %>
                  <span class="text-sm text-gray-600"> - RG and I stopped calling each other "chief."</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="h-px bg-gray-300 mb-8"></div>

  <!-- Tunes Section -->
  <section id="tunes" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">
          <%= link_to "Tunes", admin_lastfm_top_path, class: "text-gray-900 hover:text-indigo-600" %>
        </h2>
        <p class="text-sm text-gray-600">
          Now and then we'll <%= link_to "stream some jams", "http://www.last.fm/user/Flatirons", 
                                        target: "_blank", 
                                        class: "text-indigo-600 hover:text-indigo-800" %>.
        </p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Last Month -->
          <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-semibold text-gray-900 mb-3">Last month</h3>
            <div class="space-y-2">
              <% (@lastfm_last_month || []).first(10).each_with_index do |artist, index| %>
                <div class="flex items-center">
                  <span class="text-xs text-gray-500 w-6"><%= index + 1 %></span>
                  <div class="flex-1 flex items-center">
                    <%= link_to artist[:name], artist[:url], 
                        target: "_blank",
                        class: "text-sm text-indigo-600 hover:text-indigo-800 mr-2" %>
                    <span class="text-xs text-gray-500"><%= artist[:playcount] %></span>
                  </div>
                  <div class="w-24">
                    <div class="bg-gray-200 rounded-full h-2">
                      <div class="bg-indigo-600 h-2 rounded-full" 
                           style="width: <%= artist[:percentage] %>%"></div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
          
          <!-- Last Year -->
          <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-semibold text-gray-900 mb-3">Last year</h3>
            <div class="space-y-2">
              <% (@lastfm_last_year || []).first(10).each_with_index do |artist, index| %>
                <div class="flex items-center">
                  <span class="text-xs text-gray-500 w-6"><%= index + 1 %></span>
                  <div class="flex-1 flex items-center">
                    <%= link_to artist[:name], artist[:url], 
                        target: "_blank",
                        class: "text-sm text-indigo-600 hover:text-indigo-800 mr-2" %>
                    <span class="text-xs text-gray-500"><%= artist[:playcount] %></span>
                  </div>
                  <div class="w-24">
                    <div class="bg-gray-200 rounded-full h-2">
                      <div class="bg-indigo-600 h-2 rounded-full" 
                           style="width: <%= artist[:percentage] %>%"></div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="h-px bg-gray-300 mb-8"></div>

  <!-- Shows Section -->
  <section id="shows" class="mb-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <h2 class="text-xl font-bold mb-2">
          <%= link_to "Shows", "#", class: "text-gray-900 hover:text-indigo-600" %>
        </h2>
        <p class="text-sm text-gray-600">
          Once in awhile we'll <%= link_to "watch a real live band", "#", 
                                         class: "text-indigo-600 hover:text-indigo-800" %>.
        </p>
      </div>
      
      <!-- Content -->
      <div class="lg:col-span-3">
        <div class="bg-white rounded-lg shadow overflow-hidden">
          <table class="min-w-full">
            <tbody class="divide-y divide-gray-200">
              <% (@recent_concerts || []).first(5).each do |concert| %>
                <tr class="hover:bg-gray-50">
                  <td class="pl-2 pr-3 py-1.5 text-sm">
                    <span class="hidden sm:inline text-gray-500">
                      <%= concert[:date].strftime('%a') %>
                    </span>
                    <span class="text-gray-900">
                      <%= concert[:date].strftime('%b %e') %>
                    </span>
                    <span class="hidden sm:inline text-gray-400">
                      <%= concert[:date].strftime('%Y') %>
                    </span>
                    <span class="sm:hidden text-gray-500">
                      <%= concert[:date].strftime('%-m/%d/%y') %>
                    </span>
                  </td>
                  <td class="px-3 py-1.5">
                    <span class="text-sm font-medium text-gray-900">
                      <%= concert[:artists].join(', ') %>
                    </span>
                  </td>
                  <td class="px-3 py-1.5 text-sm text-gray-500">
                    <%= concert[:location] %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- Additional sections would continue in the same pattern... -->
  
</div>
