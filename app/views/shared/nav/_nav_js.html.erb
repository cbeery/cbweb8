    <!-- Navigation JavaScript -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const navTrigger = document.getElementById('<%= nav_trigger_id %>');
        const navOverlay = document.getElementById('<%= nav_overlay_id %>');
        const navClose = document.getElementById('<%= nav_close_id %>');

        function openNav() {
          navOverlay.style.display = 'block';
          // Force a reflow before adding the class
          navOverlay.offsetHeight;
          navOverlay.classList.remove('-translate-y-full');
          navOverlay.classList.add('translate-y-0');
          document.body.style.overflow = 'hidden';
        }

        function closeNav() {
          navOverlay.classList.remove('translate-y-0');
          navOverlay.classList.add('-translate-y-full');
          document.body.style.overflow = '';
          
          // Hide the overlay after animation completes
          setTimeout(() => {
            navOverlay.style.display = 'none';
          }, 300);
        }

        // Event listeners
        navTrigger.addEventListener('click', openNav);
        navClose.addEventListener('click', closeNav);

        // Close on escape key
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && navOverlay.style.display !== 'none') {
            closeNav();
          }
        });

        // Open on Cmd/Ctrl + K
        document.addEventListener('keydown', function(e) {
          if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
            e.preventDefault();
            if (navOverlay.style.display === 'none') {
              openNav();
            } else {
              closeNav();
            }
          }
        });

        // Close when clicking outside nav content
        navOverlay.addEventListener('click', function(e) {
          if (e.target === navOverlay) {
            closeNav();
          }
        });
      });
    </script>